<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Vaadin @version@</title>
        <link rel="stylesheet" type="text/css" href="demo/css/styles.css" />

        <!--[if lte IE 6]>
		<link rel="stylesheet" type="text/css" href="demo/css/ie.css" />
		<![endif]-->
        <style type="text/css">
          .nested-list ol { counter-reset: item }
          .nested-list li { display: block }
          .nested-list li:before { content: counters(item, ".") ". "; counter-increment: item }
         </style>
     </head> <!-- /head -->
    <body>

		<div id="header">
			<h1>Vaadin &ndash; thinking of U and I</h1>
			<div id="version">
                <strong>Version @version@</strong>
				<a href="javascript:history.go(-1);" title="Back to index page">&laquo; Back</a>
			</div>
		</div> <!-- /header -->

<div id="content">

<p>Version @version@ built on @builddate@.</p>

<h2 id="overview">Release Notes for Vaadin Framework @version@</h2>

<ul>
  <li><a href="#overview">Overview</a></li>
  <li><a href="#upgrading">General Upgrade Instructions</a></li>
  <li><a href="#known-problems">Important known problems in Vaadin @version@</a></li>
  <li><a href="#requirements">Requirements</a></li>
</ul>

<p>Vaadin @version@ is an update release for Vaadin 6. In addition to various fixes, it
contains a number of significant enhancements.</p>

<h3>Enhancements</h3>

<p>General enhancements:</p>

<ul>
  <li>GWT has been updated to version 2.3</li>
  <ul>
    <li>If using Eclipse, update the Vaadin Plugin for Eclipse to the latest version before upgrading a project to use the new Vaadin version</li>
    <li>If using build scripts to compile widget sets, after upgrading GWT libraries, copy and add also the <tt>validation-api-1.0.0.GA.jar</tt> and <tt>validation-api-1.0.0.GA-sources.jar</tt> to the class path</li>
    <li>In Liferay, the latest version of Vaadin Control Panel for Liferay is needed for compiling the portal widget set</li>
    <li>See the <a href="#upgrading">General Upgrade Instructions</a> for more information</li>
  </ul>
  <li>An error is shown to the end user when JAR and widgetset version do not match (<a href="http://dev.vaadin.com/ticket/5423">#5423</a>)</li>
  <li>Support for touch device interfaces: one-finger touch scrolling, drag and drop, Slider, SplitPanel, sub-window handling, notifications, etc.</li>
  <li>Support for Internet Explorer 9</li>
</ul>

<p>In the server-side API:</p>

<ul>
  <li>More versatile <b>Container.Filterable</b> API that allows complex filters in containers (<a href="http://dev.vaadin.com/ticket/6286">#6286</a>)</li>
  <li>Support for specifying nested bean properties with <tt>addNestedContainerProperty()</tt> (<a href="http://dev.vaadin.com/ticket/4995">#4995</a>)</li>
  <li>Abstract base class <b>AbstractProperty</b> for simple <b>Property</b> implementations (<a href="http://dev.vaadin.com/ticket/6860">#6860</a>)</li>
  <li>A <tt>getListeners()</tt> method to return all listeners in all classes that support listeners (<a href="http://dev.vaadin.com/ticket/1410">#1410</a>)</li>
  <li>New <b>AbstractContainer</b> for common functionality in containers, especially listeners (<a href="http://dev.vaadin.com/ticket/6521">#6521</a>)</li>
  <li>New <tt>submitUpload()</tt> method in the <b>Upload</b> component to start the upload programmatically (<a href="http://dev.vaadin.com/ticket/6630">#6630</a>)</li>
  <li><b>BrowserInfo</b> now includes browser time and timezone (<a href="http://dev.vaadin.com/ticket/6691">#6691</a>)</li>
  <li>New <tt>getColumnGenerator()</tt> method in <b>Table</b> to get a column generator (<a href="http://dev.vaadin.com/ticket/6844">#6844</a>)</li>
  <li>New <b>AbstractProperty</b> class for common features in <b>Property</b> implementations (<a href="http://dev.vaadin.com/ticket/6860">#6860</a>)</li>
  <li>Renamed <tt>horizontal/verticalDropLocation()</tt> to <tt>getHorizontal/VerticalDropLocation()</tt> in <b>WrapperTargetDetails</b> (<a href="http://dev.vaadin.com/ticket/6823">#6823</a>)</li>
  <!--  li>Support lazy loading properly in <b>ComboBox</b> (<a href="http://dev.vaadin.com/ticket/4233">#4233</a>)</li>  -->
  <li><tt>CheckBox</tt> now supports null values, displayed as false (<a href="http://dev.vaadin.com/ticket/6918">#6918</a>)</li>
</ul>

<p>In the client-side API:</p>

<ul>
  <li>Server communication methods in <b>ApplicationConnection</b> can now be overridden (<a href="http://dev.vaadin.com/ticket/6885">#6885</a>)</li>
</ul>

<h3>Backward-Incompatible Changes</h3>

<ul>
  <li>The <tt>addContainerFilter()</tt> in <b>Container.Filterable</b> no longer accepts a filter string as a parameter, but a <b>Filter</b> object.</li>
  <li><tt>DateField</tt>s no longer sets invalidAllowed(false) by default. The new behavior is consistent with all other fields in Vaadin and with DateField in Vaadin 6.3 and earlier.</li>
  <li>Top level windows no more gain focus automatically when the application is loaded in embedded hosting solutions like in Portals. Thus keyboard shortcuts might not work until a Vaadin component is focused either by user or via the server side API. (<a href="http://dev.vaadin.com/ticket/6724">#6724</a>)</li>
</ul>

<h3>Change Log, Future Releases, and Upgrading</h3>

<p>See the following lists of closed tickets for a complete list of changes in this release:</p>

<ul>
 <li> Tickets <a href="http://dev.vaadin.com/query?status=closed&group=resolution&milestone=Vaadin+6.6.0.pre1">closed in Vaadin 6.6.0.pre1</a></li>
 <li> Tickets <a href="http://dev.vaadin.com/query?status=closed&group=resolution&milestone=Vaadin+6.6.0">closed in the final Vaadin 6.6.0</a></li>
</ul>

<p>Problem fixes and enhancements planned for upcoming releases can be found in the <a
href="http://dev.vaadin.com/roadmap">Vaadin Roadmap</a> in Vaadin Trac.</p>

<p>As always, when upgrading from an earlier version, you should recompile any custom
widget sets and refresh your project in Eclipse. If you are upgrading from
6.5.x or earlier, notice that Vaadin 6.6 uses GWT 2.3 (included in the installation
package). See <a href="#upgrading">General Upgrade Instructions</a> for more details on upgrading.</p>

<h2 id="widgetupgrade">Upgrading from Vaadin 6.0 or 6.1</h2>

<p>The way how widget sets are defined was simplified in Vaadin 6.2.
Existing projects, where custom widgets (a custom widget set) are used,
must be migrated when upgrading to Vaadin 6.2 or later. Projects where
the default widget set is used do not need migration. For most projects
this should be a quite painless upgrade.</p>

<p>
For applications where custom widgets are used (also applicable to widget projects):
<ul>
<li>Remove the <i>getTag()</i> method from all components and replace it with a <tt>@ClientWidget(VClientSideWidget.class)</tt> annotation. Tag names are no longer used to map the server-side and client-side part of the component. This is done automatically using the <tt>@ClientWidget</tt> annotation.</li>
<li>Remove the <tt>WidgetSet.java</tt> file. This file is no longer needed as the mapping between the server- and the client-side is done automatically using <tt>@ClientWidget</tt>.</li>
</ul>
</p>
<p>
If you are using widgets from another project (typically in a separate JAR file):
<ul>
<li>Acquire a new JAR which is compatible with Vaadin 6.3 and add it to <tt>WEB-INF/lib</tt>. The widget set compilation will automatically include the JAR in your <tt>.gwt.xml</tt> during compilation if you use the Eclipse <b>Compile Widget Set</b> button. For Ant/Maven you need to specify the location of the widget set JARs that you want to include in the application widget set.</li>
</ul>
</p>
<p>
If you package a widget set as a JAR for use in other projects:
<ul>
	<li>Replace <tt>getTag()</tt> with <tt>@ClientWidget</tt> and remove the <tt>-WidgetSet.java</tt> as described above.</li>
    <li>Add a &quot;Vaadin-Widgetsets: &lt;fully qualified name of widgetset&gt;&quot; (e.g. &quot;Vaadin-Widgetsets: com.example.widgetset.mywidgetset&quot;) row to the META-INF/MANIFEST.MF of the JAR file. This enables the widget set builder to automatically detect and include the widget set in other projects.</li>
</ul>
</p>

<h2 id="upgrading">General Upgrade Instructions</h2>

<p>When upgrading from an earlier version of the Vaadin library, you should always do the following.</p>

<h3>All Users</h3>

<ul>
  <li>If you have extracted any built-in themes or widget sets from the Vaadin Jar to a
      <tt>VAADIN</tt> folder that is served statically by the application server,
      you need to delete the old themes and widget sets and re-extract them from the new Vaadin Jar.</li>
</ul>

<h3>Eclipse Users</h3>

<ol>
  <li>Upgrade the Vaadin Integration Plugin for Eclipse to the latest version</li>
  <ul>
    <li>For using pre-release versions of Vaadin and nightly builds, it is either recommended or often necessary to use the unstable "experimental" Vaadin Plugin for Eclipse.
If that is the case, add <tt>http://vaadin.com/eclipse/experimental</tt> as a Software Site in Eclipse and upgrade the Vaadin Plugin.</li>
  </ul>
  <li>Set your project to use the new Vaadin version</li>
  <ol style="list-style-type: lower-alpha;">
    <li>Select the new version in the <b>Vaadin</b> section in project preferences<sup>1</sup></li>
    <li>The Eclipse plugin will automatically download the required GWT libraries and update launch configurations and the project build path</li>
  </ol>  
  <li>If you have custom widget sets, recompile them by selecting the project or the widget set and clicking the <b>Compile Vaadin widgets</b> button in Eclipse toolbar</li>
  <li>Stop the development server, clean up the working directories, and restart the server.</li>
</ol>

<p><sup>1</sup> The Vaadin section is enabled only if the Vaadin Facet is configured for the project</p>

<h3>NetBeans and Build Script Users</h3>

<p>If you build the Vaadin application or the widget sets using an Ant script, such as in NetBeans, follow the following instructions:</p>

<ol>
  <li>Copy the <TT>vaadin-@version@.jar</TT> library to the <tt>WEB-INF/lib</tt> directory in the project and remove the old version</li>
  <li>Refresh the project (in NetBeans or Eclipse)</li>
  <li>If using any add-ons containing custom widget sets:</li>
  <ol style="list-style-type: lower-alpha;">
    <li>If the GWT version has changed, copy the GWT libraries to the compilation-time library directory of the project. The GWT libraries should not be located in the <tt>WEB-INF/lib</tt> directory, as they are not deployed together with the web application.</li>
    <ul>
      <li><tt>gwt-user.jar</tt></li>
      <li><tt>gwt-dev.jar</tt></li>
      <li><tt>validation-api-1.0.0.GA.jar</tt> (a GWT dependency)</li>
      <li><tt>validation-api-1.0.0.GA-sources.jar</tt> (a GWT dependency)</li>
    </ul>
    <li>The build script must include all the mentioned libraries in its class path</li>
    <li>Recompile the widget set using the build script</li>
  </ol>
</ol>

<p>You can use the <tt>WebContent/docs/example-source/build-widgetset.xml</tt> Ant script in the Vaadin
   installation package as a template for a script for compiling the widget sets.</p>

<h3>Maven Users</h3>

<ul>
  <li>If the Vaadin version is defined as <tt>LATEST</tt> in the <tt>pom.xml</tt>, the new version is automatically used and you simply need to recompile the project.</li>
  <li>If the Vaadin version is defined explicitly in the <tt>pom.xml</tt>, edit the file to change the version.</li>
</ul>

<p>Maven downloads the defined Vaadin version and required GWT libraries automatically.</p>

<p>Notice that there can sometimes be a delay between the official release
   of Vaadin to when it is submitted to the central repository. Once in the central repository, the
   replication to other repositories can take several hours.</p>

<h3>Liferay Users</h3>

<ol>
  <li>You may need to install a new version of the <a href="http://vaadin.com/directory#addon/vaadin-control-panel-for-liferay">Vaadin Control Panel for Liferay</a></li>
  <li>Install the new Vaadin Jar to the <tt>ROOT/WEB-INF/lib</tt> directory in the portal</li>
  <li>Extract the contents of the <tt>VAADIN</tt> folder from the Jar to the static <tt>ROOT/html/VAADIN</tt> directory in Liferay. Only the <b>PortalDefaultWidgetSet</b> widget set is needed.</li>
  <li>If using any add-on components or custom widget sets, use the Vaadin Control Panel to recompile the combining widget set</li>
</ol>

<p>Similar instructions apply for other portals, except that you need to recompile the widget sets for example using the <tt>build-widgetset.xml</tt> script included in the Vaadin installation package.</p>

<h2 id="gae">Notes and Limitations for Google App Engine</h2>

<p>The following instructions and limitations apply when you run a Vaadin application
under the Google App Engine.</p>

<ul>
  <li><p>Applications must use <b>GAEApplicationServlet</b> instead of
  <b>ApplicationServlet</b> in <tt>web.xml</tt>.</p></li>

  <li><p>Session support must be enabled in <tt>appengine-web.xml</tt>:</p>

      <pre>    &lt;sessions-enabled&gt;true&lt;/sessions-enabled&gt;</pre>
  </li>

  <li><p>Avoid using the session for storage, usual App Engine limitations apply (no
  synchronization, i.e, unreliable).</p></li>

  <li><p>Vaadin uses memcache for mutex, the key is of the form
  <tt>_vmutex&lt;sessionid&gt;</tt>.</p></li>
  
  <li><p>The Vaadin <b>WebApplicationContext</b> class is serialized separately into memcache
  and datastore; the memcache key is <tt>_vac&lt;sessionid&gt;</tt> and the datastore
  entity kind is <tt>_vac</tt> with identifiers of the type <tt>_vac&lt;sessionid&gt;</tt>.</p></li>
  
  <li><p>DO NOT update application state when serving an <b>ApplicationResource</b> (e.g <b>ClassResource</b>.<i>getStream()</i>).</p></li>

  <li><p>AVOID (or be very careful when) updating application state in a
  <b>TransactionListener</b> or a <b>HttpServletRequestListener</b> - they are called even when the
  application is not locked and won't be serialized (e.g <b>ApplicationResource</b>), and
  changes can thus go missing (it should be safe to update things that can be safely discarded
  later - i.e valid only for the current request)</p></li>

  <li><p>The application remains locked during uploads - a progress bar is not possible</p></li>
</ul>

<h2 id="known-problems">Important known problems in Vaadin @version@</h2>

<ul>
	<li><p><a href="http://dev.vaadin.com/ticket/1155">#1155</a>:
	Uncompressing the installation package fails in Windows if using the
	default Zip uncompression. Uncompression gives (in Windows Vista) an
	error message about too long filenames, and a more obscure message in
	other versions of Windows. Workaround: use <a
		href="http://www.7-zip.org/">7-Zip</a> or some other good unzip
	program for Windows.</p></li>
</ul>

<p>For other known problems, see open tickets at developer site <a
	href="http://dev.vaadin.com/">dev.vaadin.com</a>.</p>

<h2 id="requirements">Requirements</h2>

<p>Vaadin is available for the following operating systems:</p>

<ul>
	<li>Windows (see the Zip installation notice above)</li>

	<li>Linux</li>

	<li>Mac OS X Tiger (mac) or Leopard (leopard)</li>

	<li>Other UNIX operating systems, such as Sun Solaris</li>
</ul>

<p>Vaadin supports Java Servlet API 2.3 and later versions and should work with
any Java application server that conforms to the standard. It supports the following
application servers:</p>

<ul>
    <li>Apache Tomcat, version 4.1 or later</li>
    <li>BEA WebLogic&reg; Server, version 9.2 or later</li>
    <li>IBM WebSphere&reg; Application Server, version 6.1 or later</li>
    <li>JBoss Application Server, version 3.2.8 or later</li>
    <li>Jetty, version 5 or later</li>
    <li>Glassfish, version 2 or later</li>
</ul>

<p>Vaadin supports the following browsers for using the applications made with
it:</p>

<ul>
	<li>Mozilla Firefox 3 and 4</li>
	<li>Internet Explorer releases 6, 7, 8 and 9</li>
	<li>Safari 4 and 5</li>
	<li>Opera 10 and 11</li>
	<li>Google Chrome (latest version)</li>
</ul>

<p>The support for browsers follows the support by GWT. The browsers are supported on both
Windows and Mac, if available. Firefox is supported also on Linux. There may be differences between the
exact versions of the supported browsers that may cause incompatibility with applications
made with Vaadin.</p>

<p>The following browsers are not supported but have been found to
work to a large degree:</p>

<ul>
	<li>Safari 2</li>
	<li>Firefox 2</li>
    <li>Older versions of Google Chrome</li>
	<li>iPhone (firmware 2.2)</li>
    <li>Midori (0.1.2)</li>
	<li>Epiphany (2.22.3), Galeon, and other Gecko-based browsers. Also WebKit-based Epiphany (2.22.3) works.</li>
    <li>Konqueror 4.2 (3.5.x does not work)</li>
    <li>Nokia Internet Tablet N800 and N810 (ITOS 2008, Opera-based browser).</li>
</ul>

<p>The reported versions are those that have been tested, though other versions may work
as well.</p>

<p>Nokia E-series phones, such as E90, have been known to work with older versions, but
not with Vaadin 6. Links, Lynx, and other text-based browsers do not
work.</p>

</div> <!-- /content-->


<div id="footer">
	<span class="slogan"><strong>vaadin <em>}></em></strong> thinking of U and I<span> <a href="#top">&uarr; Back to top</a>
</div> <!-- /footer -->

</body>
</html>